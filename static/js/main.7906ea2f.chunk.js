(this.webpackJsonpclickergame=this.webpackJsonpclickergame||[]).push([[0],{219:function(e,t,n){e.exports=n(404)},254:function(e,t,n){},404:function(e,t,n){"use strict";n.r(t);var a=n(0),r=n.n(a),c=n(25),o=n.n(c),l=n(47),i=n(192),u=n(16),s=n(27),m=n.n(s),p=n(44),d=n(194),f=n.n(d),E="";E="https://cryptic-cliffs-66031.herokuapp.com";var O={click:function(){var e=Object(p.a)(m.a.mark((function e(){var t;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,f.a.post("".concat(E,"/counter/click"));case 2:return t=e.sent,e.abrupt("return",t.data);case 4:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}()},v=n(84),h=n.n(v),g=function(e){var t=parseInt(window.localStorage.getItem("userScore"));return window.localStorage.setItem("userScore",t?t+e:20+e),{type:"SET_SCORE",data:t?t+e:20}},I=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_SCORE":return t.data;default:return e}},b=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_POINT":return e.concat(t.data);case"REMOVE_POINT":return e.filter((function(e){return e.id!==t.pointId}));default:return e}},y=n(210),k=n(410),w=(n(254),function(e){var t=e.setModalOpen,n=Object(u.b)(),a=Object(u.c)((function(e){return e.score})),c=function(){var e=Object(p.a)(m.a.mark((function e(){return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:n(function(){var e=Object(p.a)(m.a.mark((function e(t){var n,a,r,c,o,l;return m.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.click();case 2:n=e.sent,a=n.prize,t(g(a-1)),r=0===a?"".concat(n.clicksToWin," clicks to a prize!"):"You won ".concat(a," points!"),c=h.a.generate(),t({type:"ADD_NOTIFICATION",data:{message:r,id:c}}),setTimeout((function(){t({type:"REMOVE_NOTIFICATION",notiId:c})}),3e3),o={value:-1,id:h.a.generate()},t({type:"ADD_POINT",data:o}),a>0&&(l={value:a,id:h.a.generate()},t({type:"ADD_POINT",data:l}));case 12:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}());case 1:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return r.a.createElement("div",{style:{position:"absolute",left:"50%",top:"30%"}},r.a.createElement("button",{className:"playButton",onClick:a>0?c:function(){return t(!0)}},"PLAY"))}),N=n(414),T=function(){var e=Object(u.c)((function(e){return e.notifications})),t=Object(u.c)((function(e){return e.score}));return r.a.createElement(N.a,null,r.a.createElement(N.a.Row,{columns:3},r.a.createElement(N.a.Column,null,r.a.createElement("h1",null,"Clicker")),r.a.createElement(N.a.Column,null,e.length>0&&r.a.createElement("div",{className:"notification"},e[e.length-1].message)),r.a.createElement(N.a.Column,null,r.a.createElement("h1",{style:{textAlign:"right"}},"Score: ",t))))},C=n(411),S=n(412),j=n(49),A=function(e){var t=e.modalOpen,n=e.setModalOpen,a=Object(u.b)();return r.a.createElement(C.a,{basic:!0,size:"small",open:t},r.a.createElement(C.a.Header,null,"Reset progress?"),r.a.createElement(C.a.Content,null,r.a.createElement("p",null,"Oh no...looks like you are all out of points. Would you like to reset your progress?")),r.a.createElement(C.a.Actions,null,r.a.createElement(S.a,{onClick:function(){return n(!1)},basic:!0,color:"red",inverted:!0},r.a.createElement(j.a,{name:"remove"}),"No"),r.a.createElement(S.a,{onClick:function(){a({type:"SET_SCORE",data:20}),n(!1)},color:"green",inverted:!0},r.a.createElement(j.a,{name:"checkmark"}),"Yes")))},_=function(){var e=Object(u.b)(),t=Object(u.c)((function(e){return e.points})),n=t.filter((function(e){return e.value<0})),a=t.filter((function(e){return e.value>0}));return r.a.createElement(N.a,null,r.a.createElement(N.a.Row,{columns:2,style:{marginTop:"100px"}},r.a.createElement(N.a.Column,{floated:"left",width:4},n.map((function(t){return r.a.createElement("div",{key:t.id,className:"animationWrapper"},r.a.createElement("h2",{className:"score",style:{color:"red"},onAnimationEnd:function(){return e({type:"REMOVE_POINT",pointId:t.id})}},t.value))}))),r.a.createElement(N.a.Column,{floated:"right",width:4},a.map((function(t){return r.a.createElement("div",{key:t.id,className:"animationWrapper"},r.a.createElement("h2",{className:"score",style:{color:"green"},onAnimationEnd:function(){return e({type:"REMOVE_POINT",pointId:t.id})}},t.value))})))))},R=function(){var e=Object(u.b)(),t=Object(a.useState)(!1),n=Object(y.a)(t,2),c=n[0],o=n[1];return Object(a.useEffect)((function(){e(function(){var e=parseInt(window.localStorage.getItem("userScore"));return e||0===e||(console.log("scoreksi laitetaan 20"),window.localStorage.setItem("userScore",20)),{type:"SET_SCORE",data:e||0===e?e:20}}())}),[e]),r.a.createElement(k.a,null,r.a.createElement(w,{setModalOpen:o}),r.a.createElement(T,null),r.a.createElement(A,{modalOpen:c,setModalOpen:o}),r.a.createElement(_,null))},D=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD_NOTIFICATION":return e.concat(t.data);case"REMOVE_NOTIFICATION":return e.filter((function(e){return e.id!==t.notiId}));default:return e}},M=Object(l.c)({points:b,score:I,notifications:D}),x=Object(l.d)(M,Object(l.a)(i.a));o.a.render(r.a.createElement(u.a,{store:x},r.a.createElement(R,null)),document.getElementById("root"))}},[[219,1,2]]]);
//# sourceMappingURL=main.7906ea2f.chunk.js.map